<html>
    <head>
        <title>Greens Savings and Blown</title>
        <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.0.min.js"></script>
       <script type="text/javascript" src="https://code.jquery.com/ui/1.10.4/jquery-ui.min.js"></script>
       <link rel="stylesheet" href="https://code.jquery.com/ui/1.10.4/themes/black-tie/jquery-ui.css"/>
        <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css"/>
        <style>
            .heading  [class^="col-"] {
                background-color:black;
                color:white;
                border-left:white 1px solid;}
                
            
                .link{
                    cursor:pointer;
                }
                
            span.futureItem
            {
                font-style:italic;
                color: grey;
            }
                
            
        </style>
    </head>
    
    <body>
    <div class="container " id="bankSelect" >
        Account  <select id="bankNames" data-bind="options:bankNames, optionsText:'bankName',optionsCaption: 'Choose...', value:bankName">
        </select>
    </div>
    
    <div class="container " id="bankSheet" style="display:none" data-bind="visible: loaded()">
        <h2 data-bind="text: title" >Test Title</h2>
        <table style="width:100%">
            <tr>
                <td style="padding:1px;width:300px;" valign="top">
               <div class="panel panel-default" style="width:100%;">
                        <div class="panel-heading"><h3 class="panel-title">Balances</h3></div>
                        <div class="panel-body" >
                            <div data-bind="with: total">
                               <div>Actual Balance: <span data-bind="text: formatMoney($data.ActualBalance)"></span></div>
                               <div>Current Balance: <span data-bind="text: formatMoney($data.ClearedBalance)"></span></div>
                                <div data-bind="visible: $data.FutureBalance">Future Balance: <span data-bind="text: formatMoney($data.FutureBalance)"></span></div>
                            </div>
                        </div>
                    </div>
                    <div class="tab-pane" id="filter">
                    <div class="panel panel-default" style="width:100%; ">
                        <div class="panel-heading"><h3 class="panel-title">Filter</h3></div>
                        <div class="panel-body" >
                            <div>Show (<span data-bind="text: numberOfFutureItems()"></span>) Future Items:  <input type="checkbox" data-bind="checked: showFutureItems" /> </div>
                            <div>Show Status: <select id="someId" data-bind="options:StatusOptions,optionsCaption: '<No Filter>', value:statusFilter"></select></div>
                            <div>Show Category: <select id="someId2" data-bind="options:cats, optionsText:'name', optionsValue:'name',optionsCaption: '<No Filter>', value:categoryFilter"></select></div>
                        </div>
                    </div>
                    </div>
                    <div class="tab-pane active" id="summary">
                    <div class="panel panel-default" style="width:100%;">
                        <div class="panel-heading"><h3 class="panel-title">Summary</h3></div>
                        <div class="panel-body" >
                            <div> Date: <input type="text" data-bind="value: summaryDate"></input></div>
                            <div data-bind="with: summary">
                            <div> Deposit: <span data-bind="text: formatMoney($data.TotalDeposits)"></span>(<span data-bind="text:$data.TotalDepositsCount"></span>)</div>
                            <div> Withdrawls: <span data-bind="text: formatMoney($data.TotalWithdrawls)"></span>(<span data-bind="text:$data.TotalWithdrawlsCount"></span>)</div>
                            <div> Gains: <span data-bind="text: formatMoney($data.TotalGains)"></span>(<span data-bind="text:$data.TotalTransactions"></span>)</div>
                        </div>
                            
                        </div>
                    </div>
                    <div class="panel panel-default" style="width:100%;">
                        <div class="panel-heading"><h3 class="panel-title">Summary By Category</h3></div>
                        <div class="panel-body" >
                            <div> Date: <input type="text" data-bind="value: summaryDate"></input></div>
                            <div data-bind="with: summary">
                                <div data-bind="foreach: $data.ByCategory">
                                  <div> <span data-bind="text: $data.category"></span>: <span data-bind="text: formatMoney($data.total)"></span>(<span data-bind="text:$data.count"></span>)</div>
                              
                                </div>
                            </div>
                        </div>
                        </div>
                    </div>
                </td>
                <td valign="top">
                 <table class="table table-condensed">
        <thead>
            <tr>
                <th class="col-md-1">Date</th>
                <th class="col-md-3">Payee</th>
                <th class="col-md-1">Deposit</th>
                <th class="col-md-1">Withdrawl</th>
                <th class="col-md-1">Balance</th>
                <th class="col-md-1">Current Balance</th>
                <th class="col-md-2">Actions</th> 
            </tr>
        </thead>
        <tr>
            <td class="col-md-1"><input data-bind="value: transactionDate" class="transactionDate" style="width:80px"/></td>
            <td class="col-md-3"><input data-bind="value: transactionPayee" style="width:250px"/></td>
            <td class="col-md-1"><input data-bind="value: transactionDeposit" style="width:80px"/></td>
            <td class="col-md-1"><input data-bind="value: transactionWidthdrawl" style="width:80px"/></td>
            <td class="col-md-1"><span data-bind="text: transactionTotal"></span></td>
            <td class="col-md-1">&nbsp;</td>
            <td class="col-md-1"><input type='button' data-bind="click: AddTransaction" class="link" value="Add"/></td>
        </tr>
        <tbody data-bind="foreach: filteredTransactions">
            <tr class="no-bottom-line" >
                <td class="col-md-1" ><input data-bind="value: date" style="width:80px" class="transactionDate"></input></td>
                <td class="col-md-3"><input data-bind="value: payee" style="width:250px"></input></td>
                <td class="col-md-1"  ><!-- ko if: type=='deposit' --><input data-bind="value: amount" style="width:80px"></input><!-- /ko -->&nbsp;</td>
                <td class="col-md-1"  ><!-- ko if: type=='widthdrawl' --><input data-bind="value: amount" style="width:80px"></input><!-- /ko -->&nbsp;</td>
                <td class="col-md-2" ><!-- ko if: IsFutureItem --> <span class="futureItem" data-bind="text: model.Money(balance.FutureBalance )"></span><!-- /ko -->
                    <!-- ko if: IsFutureItem == false --> <span data-bind="text: model.Money(balance.ActualBalance )"></span><!-- /ko -->
                </td>
                <td class="col-md-2"  data-bind="text: model.Money(balance.ClearedBalance )"></td>
                <td class="col-md-2"><a data-bind="click: $parent.UpdateTransaction" class="link" >Update</a> | <a class="link" data-bind="click: $parent.DeleteTransaction">Delete</a> | <a class="link" data-bind="click: $parent.ShowDetails">Details</a></td>
            </tr>
            <tr class="subRow" style="display:none"><td></td><td>Category:<select data-bind="options:$parent.cats, optionsText:'name', optionsValue:'name', value:category"></select></td>
            <td><select data-bind="options:$parent.StatusOptions, value:Status"><select data-bind="options:$parent.StatusOptions, value:Status"></td></tr>
        </tbody>
    </table>
       
      
  </td>
            </tr>
        </table>
        
     
       
        <ul class="alert alert-danger" data-bind="visible: errors().length > 0, foreach:errors">
          <li data-bind="text:message"></li>
           
      </ul>
      
       <ul class="alert alert-warning" data-bind="visible: warnings().length > 0, foreach:warnings">
          <li data-bind="text:$data"></li>
           
      </ul>
        <ul class="alert alert-success" data-bind="visible: messages().length > 0, foreach:messages">
          <li data-bind="text:$data"></li>
           
      </ul>
            
    
    
    
       </div>
       
       <script type="text/javascript">needBankData=true</script>
         <script src="js/knockout-3.1.0.js" type="text/javascript"></script>
        <script src="js/bank.js" type="text/javascript"></script>
       
    </body>
    
</html>